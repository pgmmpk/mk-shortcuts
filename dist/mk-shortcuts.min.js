/*! mk-shortcuts 24-11-2013 */
!function(a){"use strict";function b(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else{if(!a.detachEvent)throw new Error("do not know how to detach event from dom element"+a);a.detachEvent("on"+b,c)}}function c(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else{if(!a.attachEvent)throw new Error("do not know how to attach event to dom element"+a);a.attachEvent("on"+b,c)}}function d(a){var b={ctrl:!1,shift:!1,alt:!1,meta:!1};for(var c in a)switch(a[c].toLowerCase()){case"ctrl":b.ctrl=!0;break;case"alt":b.alt=!0;break;case"shift":b.shift=!0;break;case"meta":b.meta=!0;break;default:throw new Error('Unrecognized modifier: "'+a[c]+'", expected one of "Ctrl", "Alt", "Shift", "Meta"')}return b}function e(a){var b=g[a.toLowerCase()];if(!b)throw new Error('Unrecognized key: "'+a+'". For the list of valid key names, visit http://pgmmpk.github.io/');return b}var f=a.module("mkShortcuts",[]);f.constant("mkShortcutsConfig",{type:"keydown",propagate:!1,inputDisabled:!1}),f.factory("mkShortcutsFactory",["$window","$timeout","mkShortcutsConfig",function(f,g,h){return function(i,j){function k(a){a=a||f.event,n.ctrl=a.ctrlKey,n.alt=a.altKey,n.shift=a.shiftKey,n.meta=a.metaKey}var l=i||f.document;if("string"==typeof l){if(l=f.document.getElementById(i),!l)throw new Error('Could not locate target node with id "'+i+'"')}else l.length&&(l=l[0]);var m=a.extend({},h,j),n=d([]),o=function(){this.currentMods=n};return o.prototype.on=function(h,i,j){j=a.extend({},m,j);var k=h.split("+"),n=d(k.slice(0,k.length-1)),o=e(k[k.length-1]),p=function(a){if(a=a||f.event,j.inputDisabled){var b=a.target||a.srcElement;if(3===b.nodeType&&(b=b.parentNode),"INPUT"===b.tagName||"TEXTAREA"===b.tagName)return}var c=a.keyCode||a.which;return c===o&&n.ctrl===a.ctrlKey&&n.alt===a.shiftKey&&n.shift===a.altKey&&n.meta===a.metaKey?(g(function(){i(a)}),j.propagate?void 0:(a.cancelBubble=!0,a.returnValue=!1,a.stopPropagation&&(a.stopPropagation(),a.preventDefault()),!1)):void 0};c(l,j.type,p);var q=this._offAll;return this._offAll=function(){b(l,j.type,p),q&&q()},this},o.prototype.offAll=function(){this._offAll&&(this._offAll(),delete this._offAll)},c(l,"keyup",k),c(l,"keydown",k),{close:function(){b(l,"keyup",k),b(l,"keydown",k)},currentMods:n,shortcuts:function(){return new o}}}}]),f.factory("mkShortcutsManager",["mkShortcutsFactory",function(a){return a()}]),f.directive("mkShortcutsAs",["mkShortcutsFactory","mkShortcutsConfig",function(a,b){return{restrict:"A",scope:!0,link:function(c,d,e){c[e.mkShortcutsAs]=a(d,{type:e.type||b.type,propagate:e.propagate||b.propagate,inputDisabled:e.inputDisabled||b.inputDisabled})}}}]);var g={esc:27,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,tab:9,"return":13,enter:13,backspace:8,scrlolllock:145,capslock:20,numlock:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,pagedown:34,left:37,up:38,right:39,down:40,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,pad0:96,pad1:97,pad2:98,pad3:99,pad4:100,pad5:101,pad6:102,pad7:103,pad8:104,pad9:105,padminus:109,padplus:107,"pad/":111,"pad*":106,backtick:192,minus:189,plus:187,"[":219,"]":221,";":186,"'":222,",":188,".":190,"/":191}}(angular);